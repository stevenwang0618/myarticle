\documentclass{ctexart}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}

\newcommand{\mathd}{\mathrm{d}}
\begin{document}


\section{引言}
\label{sec:intr}
自从非完整约束的概念提出以来，如何从力学角度对非完整系统加以分析就从未停止过。简单的说，非完整约束有着如下形式：
\begin{equation}
  \label{eq:nhcon}
  f_{\alpha}(\dot{q}_1,\dot{q}_2,\ldots,\dot{q}_n;q_1,q_2,\ldots,q_n;t)=0,\quad(\alpha=1,\ldots,m)
\end{equation}
其中$q$是广义坐标，$n$是广义坐标的数目，$m$是非完整约束的数目。

一般认为非完整约束的引入使得系统自由度减少，也就是说描述系统运动的广义坐标数要大于系统的自由度。但自由度的减少不仅没有使系统的求解变得容易，反而使得问题变得难以理解。对于非完整系统中的很多基本概念及其适用的力学原理都存在争议。例如根据不同的力学模型，其运动方程往往都不一致，更不用说它的求解了。

研究非完整力学一般有两条途径，一是从基本原理出发，期望得到类似于完整系统中的Lagrange方程或Hamilton正则方程等普遍的运动方程;另一方向就是研究具体的非完整系统的例子。针对每一个实例列出其运动方程，并对方程进行求解。

针对一阶线性非完整约束
\begin{equation}
  \label{eq:linearnhcon}
    \sum_{j = 1}^n a_{\alpha j} ( q ; t) \dot{q}_j + b_i (q; t) = 0 \hspace{2em} ( \alpha =
  1, \cdots, m),
\end{equation}
对于虚位移，通常认为有如下的关系成立
\begin{equation}
  \label{eq:linearcheatev}
   \sum_{j = 1}^n a_{\alpha j} ( q ; t) \delta q_j = 0 \hspace{2em} ( \alpha = 1, \cdots, m),
\end{equation}
应用d'Alembert-Lagrange原理,并引入Lagrange乘子，得到如下的运动方程

\begin{equation}
  \label{eq:lineareom}
    \frac{\mathd}{\mathd t} \left( \frac{\partial L}{\partial \dot{q}_j}
   \right) - \frac{\partial L}{\partial q_j} = \sum_{\alpha = 1}^m \lambda_\alpha a_{\alpha
   j} \hspace{2em} ( j = 1, \cdots, n) .
\end{equation}
这几乎是标准的求解线性非完整约束的方法，可见于很多分析力学教科书或非完整力学专著中。
但这个方程只适用于一阶线性非完整约束，对于一般的非完整约束\eqref{eq:nhcon},则要求如下的Chetaev条件
\begin{equation}
  \label{eq:cheatev}
 \sum_{j = 1}^n \frac{\partial f_\alpha}{\partial \dot{q}_j}=0\hspace{2em} ( \alpha = 1, \cdots, m),
\end{equation}

由此可以得到类似于\eqref{lineareom}的运动方程
\begin{equation}
  \label{eq:leom}
    \frac{\mathd}{\mathd t} \left( \frac{\partial L}{\partial \dot{q}_j}
   \right) - \frac{\partial L}{\partial q_j} = \sum_{\alpha = 1}^m \lambda_\alpha \frac{\partial f_\alpha}{\partial \dot{q}_j} \hspace{2em} ( j = 1, \ldots, n) .
\end{equation}

从Hamilton原理出发，引入不定乘子，则得到另外一组动力学方程
\begin{equation}
  \label{eq:eeom}
    \frac{\mathd}{\mathd t} \left( \frac{\partial L}{\partial \dot{q}_j}
   \right) - \frac{\partial L}{\partial q_j} = \sum_{\alpha = 1}^m\left[ \lambda_\alpha \left(\frac{\partial f_\alpha}{\partial q_j}-\frac{\mathd}{\mathd t} \frac{\partial f_\alpha}{\partial \dot{q}_j}\right)-\dot{\lambda}_\alpha \frac{\partial f_\alpha}{\partial \dot{q}_j}\right] \hspace{2em} ( j = 1, \ldots, n) .
\end{equation}
这就是通常所说的Vacco动力学模型。


由d'Alembert-Lagrange原理得到的动力学方程\eqref{eq:leom}和由Hamilton原理得到的动力学方程\eqref{eq:eeom}并不相容。关于这两个原理谁更适用的争论，贯穿于非完整力学发展的整个过程中。一般认为，d'Alembert-Lagrange原理要比Hamilton原理更为基础，其论证依据主要有：1).引入Jourdan原理和Gauss原理，比较和分析不同原理之间的一致性；2).试图证明Chetaev条件；3).将两个原理得到的动力学方程与依据Newton力学得到的方程相比较，从而肯定\eqref{eq:leom};4).构造或寻找各种实例，论证d'Alembert-Lagrange原理得到的动力学方程与真实例子相符。

这些肯定\eqref{eq:leom}而否定\eqref{eq:eeom}的理由都是间接的。而实际上，不少学者对\eqref{eq:leom}存有质疑，特别是由于\eqref{eq:chetaev}成立而带来的非完整约束力，其物理意义往往不能得到很好的解释。由此引出了一系列关于虚位移的定义，微分-变分的交换关系，变分原理适用性等问题。

我们不禁要问，分析力学中普遍适用的力学原理和概念对于非完整系统是否仍然成立？非完整系统是否存在特殊的力学原理？我们认为这些问题的答案，需要从非完整系统的物理本质中寻找。本文并不打算针对非完整系统给出新的变分原理或运动方程，而是试图说明非完整力学并不超出分析力学中力学原理的适用范围。我们认为非完整力学中存在的一些矛盾和争论，是由于对非完整系统的模型过度简化和对系统的不完全描述导致的;我们还认为非完整约束不具备完整约束在分析力学中的基础地位，非完整力学问题实际上是与控制问题密不可分的，脱离了控制背景的非完整约束是不存在的，这正是 所说的在非完整系统的自由运动(无外界控制力)情况下，非完整约束作用消失。


\section{约束是什么？}
\label{sec:constraint}


分析力学主要研究的是含约束的力学系统。但在Lagrange发展分析力学时，只考虑了对系统位形的约束，也就是后来所说的完整约束。直到一个多世纪后，Hertz才正式提出了非完整约束的概念，从而开创了非完整系统动力学这一领域。

自从非完整约束的概念提出以来，关于它的争论就没有停止过。虽然非完整约束是一大类约束，但是在实际应用中，非完整系统动力学方程很少被使用。基本上，非完整约束只存在于可以用刚体模型描述的系统中，对于微观系统，并没有用到非完整约束的概念。一般认为刚体纯滚动是典型的非完整约束。非完整力学中一个知名例子就是芬兰学者Lindel\"of对回转面刚体沿水平面纯滚动的研究。但纯滚动毕竟是一种抽象的假设，在此基础上的非完整约束有着浓厚的人为痕迹。事实上，非完整力学经典例子往往给人一种是为了得到非完整约束从而故意构造出来的映像。


完整约束有鲜明的物理图象，在Descartes坐标系下，它是对质点或质点系位置的约束。当约束是理想约束时，应用d'Alembert-Lagrange原理，可以得到系统的Lagrange方程。这个方程引入了Lagrange函数，使得方程对不同的一组广义坐标，方程形式具有不变性。在推导方程的过程中，关键的步骤是广义坐标的引入。利用恰当的广义坐标，可以使约束条件自然得到满足，那么在接下来的分析中可以不考虑约束的作用，简化了问题。如果要得到约束力，则只需利用Lagrange乘子法，而所求的乘子正好对应着约束力。

Lagrange的分析力学体现出一种简洁和美感。但当非完整约束存在的时候，问题的处理变得复杂起来。近百年来，对非完整系统做了大量研究，得到了各式各样的运动方程。但人们对此问题还不能有一致的认识，对非完整系统适用的力学原理以及由此得到的运动方程的有效性还存在争论。此外，无论使用d'Alembert-Lagrange原理还是Hamilton原理，所得到的运动方程都十分繁复，很难想象它们能够有着实际的应用。

这些问题的存在，促使我们对非完整系统需要重新审视，对约束的物理意义进行分析。
Lagrange所发展的分析力学不同于Newton力学，Newton力学实际上处理的是质点的运动，而分析力学所考虑的对象基本上是一个含约束的系统，也就是说是质点系的运动。要使用Newton力学求解质点系的运动需要知道每个质点所受到的力，并且知道每个质点在某一时刻的状态。随着系统中的质点数增多，质点间还存在大量的相互作用，这些相互作用对每个质点产生的力往往不能够预先知道，由此使得质点系的运动实际上不可解。

为了能对实际的问题进行理论分析，人们根据所处理的对象的特点，往往对系统做了大量的简化和假设。而这些简化与假设实际就是约束的引入。在经典力学的范畴内，可以根据约束情况，将力学系统分为如下三类。

1.质点数较少或质点间有着固定位置关系的系统。刚体力学、天体力学所处理的正是这类对象。这类系统的特点是系统变量不太多，即系统自由度较少，系统可以用质点模型和刚体模型或这些模型的组合与叠加来描述。

2.质点间位置关系基本固定，但质点间也可以有相互运动。振动问题以及固体力学研究的对象都可以归于这类系统。这类系统自由度是无限的，但每个质点可以认为只是在基准位置附近运动，或者是做往复运动，这就是振动问题，或者是偏离一定程度，这就是弹性形变问题。

3.质点间位置不固定，存在着大量碰撞和相互作用。热力学，统计力学研究的正是这类系统。这类系统的自由度也可以看作是无限的，人们无法知道系统内具体某个质点的运动状态，而只是研究系统宏观和平均的性质，譬如温度。而流体力学研究的对象介于第二类和第三类系统之间。


把系统按自由度数的情况分类，实际上也是按系统内部约束情况分类。这里的约束指对质点位置关系的约束，也就是通常所说的完整约束。完整约束的概念是很自然的。在Hertz分辨出非完整约束之前，人们所说的约束仅指完整约束。

非完整约束往往存在于含刚体的系统，也就是上述第一类系统。这类系统的特点是自由度有限。本文将要表明，所谓的非完整力学问题本质上与控制问题不可分离，非完整约束是由于外界控制导致的，即非完整约束应当视为控制的结果。从这个意义上说，非完整约束是一种“不自然”的约束，从而与完整约束有本质的不同。

几个经典的非完整约束例子都与刚体运动有关，例如，冰刀运动问题，两轮小车问题，刚球在粗糙平面滚动问题等。这些系统描述起来非常简单，但是其求解常常十分困难，所得的解也往往经不起推敲而难于理解。

在下一节，我们详细分析冰刀运动这个经典的非完整系统。以此为例，澄清一些在非完整力学研究中经常会遇到的误区，并对非完整约束的来源进行探讨。
\section{冰刀运动}
\label{sec:ice}
\newtheorem{example}{例}[section]

\begin{example}
  冰刀在光滑水平冰面上运动。可以用细杆为模型描述冰刀面的运动，在运动过程中杆上的一点$C$（可取为质心）始终沿着杆的方向。在平面上建立坐标系，$Oz$轴竖直向上，杆在$xOy$平面内运动。用来描述这个杆运动的三个广义坐标可选为$x,y,\varphi$,其中$\varphi$是杆与$Ox$轴的夹角。
\end{example}

此系统可以认为受到两个约束，分别是完整约束
\begin{equation}
  \label{eq:ice1}
  z = 0
\end{equation}
和非完整约束
\begin{equation}
  \label{eq:ice2}
  \dot{x} \sin\varphi - \dot{y} \cos\varphi = 0
\end{equation}

设$m$是冰刀的质量，$I_C$是冰刀对过质心的竖直轴的惯性矩，则冰刀的动能可表示为
\begin{equation}
  \label{eq:ice3}
  T = \frac{1}{2}m\left(\dot{x}^2+\dot{y}^2\right)+\frac{1}{2}I_C\dot{\varphi}^2.
\end{equation}
冰面光滑无摩擦，并且冰刀重力势能为常数，利用Chetaev位移假设，就得到如下的运动方程
\begin{equation}
  \label{eq:iceeom}
  m \ddot{x} = \lambda \sin\varphi, m \ddot{y} = -\lambda \cos\varphi, \ddot{\varphi} = 0.
\end{equation}
其中$\lambda$是引入的Lagrange乘子。
假设初始时刻冰刀质心位于原点，冰刀沿着$Ox$轴，质心初速度为$v_0$,冰刀角速度为$\omega_0$.此时可得方程的解为
\begin{equation}
  \label{eq:icesol}
  x(t) = \frac{v_0}{\omega_0}\sin\omega_0t, y(t) = \frac{v_0}{\omega_0}(1 - \cos\omega_0t), \varphi(t) = \omega_0
\end{equation}
因此，冰刀质心以速度$v_0$绕中心位于$Oy$轴上半径为$v_0/\omega_0$的圆周等速转动。

此时Lagrange乘子也可以从\eqref{eq:iceeom}中求出：
\begin{equation}
  \label{eq:icel}
 \lambda = -m\omega_0v_0
\end{equation}
此$\lambda$正是约束反力$\mathbf{R}$.此约束反力在$Ox$轴和$Oy$轴的投影为$R_x$和$R_y$.
\begin{equation}
  \label{eq:icecon}
  R_x = -m_0\omega_0v_0\sin\omega_0t, R_y = m \omega_0v_0\cos\omega_0t
\end{equation}

约束反力大小为常值，方向指向冰刀质心运动轨迹的圆心。

这是教科书上关于此问题的标准解法。但是仔细分析这个解答过程，却发现有许多需要澄清的地方。

首先，冰刀做圆周运动的向心力由何而来。一个自然的解释是约束反力提供的。而这个约束反力正是由于非完整约束\eqref{eq:ice2}导致的。但我们已假设冰面是光滑的，也即不考虑摩擦因素，冰面除了给冰刀以支撑力，通过何种作用提供圆周运动所需的向心力？
为了说明这个问题，很多作者对这个力的性质进行了分析,有的称其为“非完整力”，而郭仲衡则认为需要有一个外加的跟随力才能保证此圆周运动。

其次，冰刀的约束如何实现。\eqref{eq:ice2}究竟是对冰刀面上的每一点成立，还是仅仅对质心或接触点成立。如果是前者，则一方面，冰刀上的所有点要沿着冰刀面给出的方向运动，这就要求冰刀不得有绕自身竖直轴的转动，而另一方面，冰刀质心作圆周运动，冰刀又可以绕其质心自由旋转（$\varphi(t)=\omega_0$），这两方面无法协调。如果是后者，即认为冰刀与冰面是点接触，那么\eqref{eq:ice2}成立的物理根据是什么？上面得到的冰刀圆周运动，只能保证质心或接触点的速度是沿冰刀面方向，对于其它点的速度显然做不到这一点。


我们认为产生这样的矛盾本质上是由于对系统的过度简化或对系统的不完全描述导致的。


在  中，郭仲衡仔细分析了一类非完整力学问题的合理解，其中包括上述冰刀运动问题。
冰刀的自由运动轨迹只能是直线，给定的冰刀初始条件必须要满足一定条件。

冰刀运动的轨道为：
\begin{equation}
  \label{eq:iceorbit}
  x(t) = u t +x_0,\quad y(t) = v t + y_0,\quad \varphi (t) = \arctan \frac{v}{u}(= const.)
\end{equation}

初始条件
\begin{equation}
  \label{eq:initial}
  x(0) = x_0,\quad y(0) = y_0,\quad \dot{x}(0) = u,\quad \dot{y}(0) = v
\end{equation}

而$\varphi(t)$的初始条件必须与\eqref{eq:iceorbit}相容，
\begin{equation}
  \label{eq:initial2}
  \varphi(0) = \arctan \frac{v}{u},\quad \dot{\varphi}(0) = 0
\end{equation}

这样给定的解自然符合约束方程\eqref{eq:ice2}，也符合Newton运动定律。这样的解正是所谓的非完整系统的自由运动，此时系统的非完整性消失。说这是冰刀水平面上不受其它主动力作用且时刻满足约束方程\eqref{eq:ice2}时唯一合理的解。



那么冰刀在冰面上只能做直线运动吗？在严格要求\eqref{eq:ice2}对冰刀每一点均成立时是这样的。
如果我们只对冰刀上的一点，例如质心要求\eqref{eq:ice2}成立，那么圆周解是否就合理呢？我们认为仍然不对，理由就是这个解无法给出冰刀作圆周运动所需向心力的合理解释。

冰刀问题并不是凭空设想出来的，而是针对实际存在的滑冰运动建立的数学模型。上面所给的圆周解似乎可以用来解释滑冰运动员如何能够转弯。如果认为这个圆周解不正确，那么如何解释速度滑冰运动员可以由直道转为弯道？我们指出对这个问题的正确分析并不是基于这个模型。


观看过短道速滑比赛的人都可以发现，运动员在转弯时，常常采取身体向左侧倾斜的姿势。运动员采取此姿势是为了让冰面提供弯道滑行所需的向心力。运动员倾斜，将冰刀斜切入冰面，冰面产生的反作用力有一水平分量，正是这个分量提供向心力。这个力的性质是冰面形变产生的弹性力。


如果认为冰刀与冰面的接触区域是一个点的话，则没有理由认为，所给的非完整条件必然要成立。在冰刀问题中，非完整条件的给出是一种数学抽象，是对实际中观察到的冰刀运动特点的总结。冰刀在直行时，冰刀的速度沿着冰刀面的方向，但冰刀也可以不采取这样的运动，冰刀的速度不沿着冰刀面的情况在实际中是可能发生的，但这时冰刀会刮动冰面，冰刀会受到很大阻力。此时，冰刀与冰面的接触区域已不能视为一点，冰刀必然切入冰面，冰面则对冰刀会有阻力。

如果认为冰刀与冰面是点接触，同时又假设冰面是光滑的，那么冰面除对冰刀有支撑力外，没有水平方向上的力，冰刀在冰面上可以自由运动。而如果要求\eqref{eq:ice2}这样的关系成立，还要求运动满足所给初始条件，则对冰刀要有外力的作用，这个力可以看作一种控制力。上面给出的圆周解是在假设没有对冰刀的绕竖直轴转动的控制力矩条件下给出的解。冰刀为保证\eqref{eq:ice2}成立，同时冰刀绕竖直轴运动的角速度不变，圆周解是唯一可能的解。而这必然需要外界施加所需的向心力，这个力与所谓的非完整力或跟随力大小方向都相同，是一种控制力，但绝不是由于非完整约束导致的约束力。在这里，我们应该把\eqref{eq:ice2}看作是施加控制后的效果，当作描述这个运动的特征。也可以把\eqref{eq:ice2}看作系统预先给定的首次积分，这是施加控制后的结果，也可以认为是对控制的要求。如果不需要冰刀绕竖直轴转动的角速度不变这个限制，而只要求\eqref{eq:ice2}成立，只要施加合适的外加控制力和控制力矩，冰刀可以到达冰面上任意位置。


\section{作为运动特征的非完整运动关系}

上面详细分析了冰刀运动这个经典的非完整系统例子正是要表明这个观点：类似\eqref{eq:ice2}这样的非完整约束，是系统运动的结果，或者是施加控制后所希望达到的目标。非完整约束可以作为描述这个运动的特征，是给定的运动首次积分。一个系统如果只给定非完整约束，而不指明施加的控制力和初始条件，那么问题的解就是不确定的。基于这样的理由，我们应当把类似\eqref{eq:ice2}这样的式子称作非完整关系而不是非完整约束。

为了更好的说明这个问题，我们分析如下简单的例子。

\begin{example}
单位质量的质点，其速度大小为常量：
\begin{equation}
  \label{eq:unit}
  \dot{x}^2+\dot{y}^2+\dot{z}^2 = C = const.
\end{equation}

试求质点的运动。


\end{example}

我们指出，如果只给定\eqref{eq:unit}而不指明初始条件，那么这个运动的解是不明确的。

但当我们给出其它信息后，运动就是确定的了

Case 1.

质点初始位置为$(x_0,y_0,z_0F$),初始速度为$(\dot{x}_0,\dot{y}_0,\dot{z}_0)$,质点不受其它外力作用。

此时，可以很容易求得，质点的轨迹为

\begin{eqnarray}
  \label{eq:unitsol}
  x(t) = x_0 + \dot{x}_0 t,\\
  y(t) = y_0 + \dot{y}_0 t,\\
  z(t) = z_0 + \dot{z}_0 t
\end{eqnarray}

同时初速度需满足条件$\dot{x}_0^2+\dot{y}_0^2+\dot{z}_0^2 = C$.这正是通常所说的自由解。

Case 2.

质点初始条件同情况1,但设质点受一常力$f$作用。

由于质点需满足\eqref{eq:unit},力$f$方向必然垂直于质点速度方向。因此质点的一种可能运动为以半径为$C/f$绕圆心的圆周运动。


实际上，质点在空间中的轨迹可以是任意直线段和弧段的组合。通过这种运动，质点可以到达空间的任一点。如图所示。

希望通过\eqref{eq:unit}来求得质点所受约束力，进而求解质点的运动是不能实现的，实际上我们只能进行相反的求解，即根据已知的运动轨迹求出质点受力情况。
从图中也可以看出仅仅给定初始条件也是不够的，相同的初始条件，只要运动过程中受力情况不同，可以对应完全不同的运动。要完全求解质点的运动，必须给出质点在运动过程中的受力情况。实际上，从这个图也可以得到，只要有合适的控制作用，质点可以运动到空间中任意位置，这正是非完整约束的特点。


这种观点其实可以推广到很多经典非完整系统中，例如斜面上冰刀运动问题，两轮小车问题，刚球在粗糙面纯滚动问题。满足它们各自非完整关系的运动有很多，而不同模型给出的解实际上各自暗含了系统受力状况。不同的受力状况当然给出不同的方程和不同的解，即使它们都会满足非完整关系。从这个角度来说，无论是Chetaev模型还是Vacco动力学模型都与经典力学不矛盾，它们给出的解只要是满足要求的非完整关系就是正确的，只是它们各自暗含的控制力不同。Chetaev条件对应的正是一种控制力，在这种控制作用下可求得系统的运动。而根据这个运动再反求出所谓的非完整约束力当然只能是这个Chetaev条件对应的控制力，它们本就是同一的。而Vacco模型则暗含得是另一种控制力，这种控制力使得修正后的作用量取驻值，运动的轨迹是测地轨道，在这个模型中更能体现非完整力学问题本质是控制问题的观点。显然我们可以得到其他模型，只要我们给定或假设其他的控制力，那么得到的动力学方程当然不同于这两个模型，但只要不破坏预先要求的非完整关系，它们仍然是正确的。


\section{结论}
\label{sec:conclusion}

在非完整系统的研究中，往往存在大量的争论，例如Lagrange原理和Hamilton原理的有效性，虚位移的定义，微分变分运算交换性等问题。人们通过对这些问题的讨论，得到了很多针对非完整系统的运动方程，这些方程往往十分复杂而难于应用。而且不同的模型得到的解答还不一致，这更增加了对非完整系统问题的研究的困难。

本文从冰刀运动这个经典非完整例子出发，详细分析冰刀运动的各种解的合理性，并讨论了冰刀运动的物理实现，解释了在冰刀运动中出现的所谓非完整力或跟随力的物理意义。

针对一般非完整系统，我们提出如下观点：

1.通常所说的非完整约束，应当称作非完整关系，这是系统在运动中必须满足的关系，可以作为描述运动的特征，或者是是预先给定的系统运动的首次积分。

2.不存在所谓的非完整力或跟随力，也不存在由于非完整约束导致的非完整约束力。令系统保持非完整关系的作用力是外界施加的控制力，这个力需要预先给定，或者是根据已知运动可确定出来。

3.非完整系统的求解需要明确给出系统的初始条件和系统的受力状况，只给出非完整关系的系统，其运动方程和解是不确定的。通过其它模型得到的解都是暗含了系统的受力状况。

4.非完整系统问题本质上是控制问题，即如何施加控制力来使系统进行目标运动。











\end{document}